<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cm.takemeal.chef.model.dao.ChefDao">

	<resultMap type="chef" id="resultChef">
		<id column="no" property="no" />
		<result column="username" property="username" />
		<result column="type" property="type" />
		<result column="blog" property="blog" />
	</resultMap>
		
    <select id="selectChefContentCnt" resultType="int" parameterType="java.util.HashMap">
    	<![CDATA[ 
        SELECT
            COUNT(no)
        FROM
            MEMBER WHERE type = 3
		]]> 
    </select>
    
    <select id="selectChefContent" resultType="com.cm.takemeal.recipe.model.vo.Recipe" parameterType="java.util.HashMap">
    	<![CDATA[ 
    	SELECT * FROM (
		    SELECT no, username, type, blog, ROW_NUMBER() OVER(ORDER BY NO DESC) AS RNUM
		    FROM MEMBER
		)
		WHERE RNUM > #{start} AND RNUM <= #{end} AND type = 3
		]]> 
    </select>
    
    
    <select id="selectChefContentView" resultType="com.cm.takemeal.chef.model.vo.Chef" parameterType="java.util.HashMap">
    	<![CDATA[ 
		SELECT
			no,
			username,
			type,
			blog
		FROM 
			chef
		WHERE 
			no = #{no}
		]]> 
    </select>
</mapper>
